<h1> render </h1>
<button>click!</button>
<script type="module">
console.log('hi from render')
window.onmessage = (e) => {
  if(event.source === window && event.data === 'port'){
    const [msgChannel] = event.ports
     const api = window.createClient(msgChannel)
     msgChannel.start()
     // msgChannel.postMessage(42)
     // msgChannel.onmessage = ({data}) => {
       // console.log('msg from worker', data)
     // }
  }
}
const button = document.querySelector('button')
const update = () => {
  const n = Math.random()
  button.innerHTML = `click! ${n}`
}
button.addEventListener('click', update)
</script>
